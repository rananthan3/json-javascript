<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="math.min.js"></script>
<script type="text/javascript" src="executedJobsJS.json"></script>

<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">

<style>
table, td, th {
    border: 1px solid black;
}

table {
    border-collapse: collapse;
    width: 100%;
}
</style>
</head>
<body>

<h1>My First JavaScript</h1>

<button type="button"
onclick="document.getElementById('time').innerHTML = Date()">
Click me to display Date and Time.</button>

<p id="time"></p>
<p> cpuHours = [2, 3, 4, 5, 6, 7]; </p>
<p id="demo"></p>
<p id="stdev"></p>
<p id="data"></p>

<script>
//var math = require('mathjs');

demoP = document.getElementById("demo");
var cpuHours = [2, 3, 4, 5, 6, 7];
 

function add(a, b) {
    return a + b;
}


var sum = cpuHours.reduce(add);
var avg = sum / cpuHours.length;

//demoP.innerHTML = "hello";
demoP.innerHTML = 'The total cpu hours is ' + sum + '</br>'+ 'The average cpu hours is ' + avg.toFixed(2) + '</br>';

document.getElementById("stdev").innerHTML = 'The standard deviation is ' +  math.std(cpuHours).toFixed(2) + '</br>';

var jsonData = JSON.parse(data);

var text = "<table>\
  <tr>\
    <th>Job Name</th>\
    <th>Wall Time</th>\
    <th>Cpu Total</th>\
  </tr>"


var i;
for (i = 0; i < jsonData.length; i++) {
    text += "<tr><td>"+jsonData[i].jobname + "</td><td>"+jsonData[i].resourcesUsedWallTime+"</td><td>"+jsonData[i].cpuTotal+"</td></tr>";
}
text += "</table>";
document.getElementById("data").innerHTML = text;

//var jsontext = '{"firstname":"Jesper","surname":"Aaberg","phone":["555-0100","555-0120"]}';
//var contact = JSON.parse(jsontext);
//document.getElementById("data").innerHTML = contact.surname + ", " + contact.firstname;
//document.write('<p>'+contact.phone[1]+'</p>');

</script>
</body>
</html> 



